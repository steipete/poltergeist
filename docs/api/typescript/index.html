<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Poltergeist API Documentation - v1.1.0</title><meta name="description" content="Documentation for Poltergeist API Documentation"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><link rel="stylesheet" href="assets/custom.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">Poltergeist API Documentation - v1.1.0</a><div id="tsd-toolbar-links"><a href="https://github.com/steipete/poltergeist">GitHub</a><a href="../architecture.html">Architecture</a></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>Poltergeist API Documentation - v1.1.0</h1></div><div class="tsd-panel tsd-typography"><div align="center">
  <img src="media/poltergeist-logo.png" alt="Poltergeist Logo" width="200">
<h1 id="poltergeist" class="tsd-anchor-link">Poltergeist<a href="#poltergeist" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><a href="https://nodejs.org"><img src="https://img.shields.io/badge/Node.js-20%2B-339933?style=for-the-badge&logo=node.js&logoColor=white" alt="Node.js 20+"></a>
<a href="https://github.com/steipete/poltergeist"><img src="https://img.shields.io/badge/platforms-macOS%20%7C%20Linux%20%7C%20Windows-blue?style=for-the-badge" alt="Platforms"></a>
<a href="media/LICENSE"><img src="https://img.shields.io/badge/license-MIT-green?style=for-the-badge" alt="MIT License"></a>
<a href="https://github.com/steipete/poltergeist/actions/workflows/ci.yml"><img src="https://github.com/steipete/poltergeist/actions/workflows/ci.yml/badge.svg" alt="CI Status"></a></p>
<p><strong>The ghost that keeps your builds fresh</strong> üëª<br>
A universal file watcher with auto-rebuild for any language or build system</p>
</div>
<h2 id="üéØ-dual-platform-support" class="tsd-anchor-link">üéØ Dual Platform Support<a href="#üéØ-dual-platform-support" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Poltergeist offers both a <strong>Node.js CLI</strong> for universal development and a <strong>native macOS app</strong> for enhanced monitoring:</p>
<h3 id="cli-tool-cross-platform-üåç" class="tsd-anchor-link">CLI Tool (Cross-Platform) üåç<a href="#cli-tool-cross-platform-üåç" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>Universal</strong>: Works on macOS, Linux, and Windows</li>
<li><strong>Node.js 20+</strong> required</li>
<li><strong>Watchman support</strong>: All platforms officially supported</li>
<li>Install: <code>npm install -g @steipete/poltergeist</code></li>
</ul>
<h3 id="macos-app-native" class="tsd-anchor-link">macOS App (Native)<a href="#macos-app-native" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>Native performance</strong> with Swift 6</li>
<li><strong>Real-time monitoring</strong> in menu bar</li>
<li><strong>System notifications</strong> with build status</li>
<li><strong>Download</strong>: Get the latest <code>.dmg</code> from <a href="https://github.com/steipete/poltergeist/releases">releases</a></div></li>
</ul>
<h2 id="features" class="tsd-anchor-link">Features<a href="#features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><strong>Universal Target System</strong>: Support for executables, app bundles, libraries, frameworks, tests, Docker containers, and custom builds</li>
<li><strong>Smart Execution Wrapper</strong>: <code>polter</code> command ensures you never run stale or failed builds</li>
<li><strong>Efficient File Watching</strong>: Powered by Facebook's Watchman with smart exclusions and performance optimization</li>
<li><strong>Intelligent Build Prioritization</strong>: Automatic priority scoring based on focus patterns and user behavior</li>
<li><strong>Smart Build Queue Management</strong>: Configurable parallelization with intelligent deduplication and scheduling</li>
<li><strong>Focus Pattern Detection</strong>: Automatically detects which targets you're actively working on</li>
<li><strong>Intelligent Project Detection</strong>: Automatically detects Swift, Node.js, Rust, Python, and mixed projects</li>
<li><strong>Smart Configuration</strong>: Project-specific exclusions with performance profiles (conservative, balanced, aggressive)</li>
<li><strong>Native Notifications</strong>: macOS notifications with customizable sounds for build status</li>
<li><strong>Concurrent Build Protection</strong>: Intelligent locking prevents overlapping builds</li>
<li><strong>Advanced State Management</strong>: Process tracking, build history, and heartbeat monitoring</li>
<li><strong>Cross-Platform</strong>: Works on macOS, Linux, and Windows</li>
</ul>
<h2 id="quick-start" class="tsd-anchor-link">Quick Start<a href="#quick-start" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="installation" class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Install globally via npm:</p>
<pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-3">-g</span><span class="hl-1"> </span><span class="hl-2">@steipete/poltergeist</span>
</code><button type="button">Copy</button></pre>

<p>Or run directly using npx:</p>
<pre><code class="bash"><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">@steipete/poltergeist</span><span class="hl-1"> </span><span class="hl-2">haunt</span>
</code><button type="button">Copy</button></pre>

<h3 id="basic-usage" class="tsd-anchor-link">Basic Usage<a href="#basic-usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ol>
<li>Create a <code>poltergeist.config.json</code> in your project root:</li>
</ol>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;version&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;1.0&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;projectType&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;swift&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;targets&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;my-cli&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;executable&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;enabled&quot;</span><span class="hl-1">: </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;buildCommand&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;./scripts/build.sh&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;outputPath&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;./bin/mycli&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;watchPaths&quot;</span><span class="hl-1">: [</span><span class="hl-2">&quot;src/**/*.swift&quot;</span><span class="hl-1">]</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;watchman&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;useDefaultExclusions&quot;</span><span class="hl-1">: </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;excludeDirs&quot;</span><span class="hl-1">: [],</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;maxFileEvents&quot;</span><span class="hl-1">: </span><span class="hl-5">10000</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;recrawlThreshold&quot;</span><span class="hl-1">: </span><span class="hl-5">3</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;settlingDelay&quot;</span><span class="hl-1">: </span><span class="hl-5">1000</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<ol start="2">
<li>Start watching:</li>
</ol>
<pre><code class="bash"><span class="hl-0">poltergeist</span><span class="hl-1"> </span><span class="hl-2">haunt</span>
</code><button type="button">Copy</button></pre>

<h2 id="requirements" class="tsd-anchor-link">Requirements<a href="#requirements" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="cli-tool" class="tsd-anchor-link">CLI Tool<a href="#cli-tool" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>Node.js 20.0.0</strong> or higher</li>
<li><strong><a href="https://facebook.github.io/watchman/">Watchman</a></strong> (must be installed separately)</li>
<li><strong>Cross-platform</strong>: macOS, Linux, Windows
<ul>
<li><strong>macOS</strong>: <code>brew install watchman</code></li>
<li><strong>Linux</strong>: <a href="https://facebook.github.io/watchman/docs/install#linux">Installation guide</a></li>
<li><strong>Windows</strong>: <a href="https://facebook.github.io/watchman/docs/install#windows">Chocolatey package</a> or manual install</li>
</ul>
</li>
</ul>
<h3 id="macos-app" class="tsd-anchor-link">macOS App<a href="#macos-app" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>macOS 12.0+</strong> (Monterey or later)</li>
<li><strong>Apple Silicon &amp; Intel</strong> both supported</li>
<li><strong>Automatic CLI integration</strong> when installed</li>
</ul>
<h2 id="configuration" class="tsd-anchor-link">Configuration<a href="#configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="configuration-schema" class="tsd-anchor-link">Configuration Schema<a href="#configuration-schema" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Essential configuration structure:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;version&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;1.0&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;projectType&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;swift|node|rust|python|mixed&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;targets&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;my-app&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;executable|app-bundle|library|framework|test|docker|custom&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;buildCommand&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;cargo build --release&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;outputPath&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;./target/release/myapp&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;watchPaths&quot;</span><span class="hl-1">: [</span><span class="hl-2">&quot;src/**/*.rs&quot;</span><span class="hl-1">]</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;buildScheduling&quot;</span><span class="hl-1">: { </span><span class="hl-4">&quot;parallelization&quot;</span><span class="hl-1">: </span><span class="hl-5">2</span><span class="hl-1"> },</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;notifications&quot;</span><span class="hl-1">: { </span><span class="hl-4">&quot;enabled&quot;</span><span class="hl-1">: </span><span class="hl-3">true</span><span class="hl-1"> }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<details>
<summary>Full configuration options</summary>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;version&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;1.0&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;projectType&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;swift|node|rust|python|mixed&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;targets&quot;</span><span class="hl-1">: [</span><span class="hl-6">/* target configs */</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;watchman&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;useDefaultExclusions&quot;</span><span class="hl-1">: </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;excludeDirs&quot;</span><span class="hl-1">: [</span><span class="hl-2">&quot;custom&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;exclusions&quot;</span><span class="hl-1">],</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;maxFileEvents&quot;</span><span class="hl-1">: </span><span class="hl-5">10000</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;rules&quot;</span><span class="hl-1">: [{</span><span class="hl-4">&quot;pattern&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;**/test_output/**&quot;</span><span class="hl-1">, </span><span class="hl-4">&quot;action&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;ignore&quot;</span><span class="hl-1">}]</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;performance&quot;</span><span class="hl-1">: {</span><span class="hl-4">&quot;profile&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;balanced&quot;</span><span class="hl-1">, </span><span class="hl-4">&quot;autoOptimize&quot;</span><span class="hl-1">: </span><span class="hl-3">true</span><span class="hl-1">},</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;buildScheduling&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;parallelization&quot;</span><span class="hl-1">: </span><span class="hl-5">2</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;prioritization&quot;</span><span class="hl-1">: {</span><span class="hl-4">&quot;enabled&quot;</span><span class="hl-1">: </span><span class="hl-3">true</span><span class="hl-1">, </span><span class="hl-4">&quot;focusDetectionWindow&quot;</span><span class="hl-1">: </span><span class="hl-5">300000</span><span class="hl-1">}</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;notifications&quot;</span><span class="hl-1">: {</span><span class="hl-4">&quot;enabled&quot;</span><span class="hl-1">: </span><span class="hl-3">true</span><span class="hl-1">, </span><span class="hl-4">&quot;successSound&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;Glass&quot;</span><span class="hl-1">},</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;logging&quot;</span><span class="hl-1">: {</span><span class="hl-4">&quot;file&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;.poltergeist.log&quot;</span><span class="hl-1">, </span><span class="hl-4">&quot;level&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;info&quot;</span><span class="hl-1">}</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</details>
<h3 id="target-types" class="tsd-anchor-link">Target Types<a href="#target-types" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Poltergeist supports multiple target types with specific optimizations:</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Use Case</th>
<th>Key Properties</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>executable</code></td>
<td>CLI tools, binaries</td>
<td><code>outputPath</code>, standard execution</td>
</tr>
<tr>
<td><code>app-bundle</code></td>
<td>macOS/iOS apps</td>
<td><code>bundleId</code>, <code>autoRelaunch</code>, app lifecycle</td>
</tr>
<tr>
<td><code>library</code></td>
<td>Static/dynamic libs</td>
<td><code>libraryType</code>, linking optimization</td>
</tr>
<tr>
<td><code>framework</code></td>
<td>macOS/iOS frameworks</td>
<td>Platform-specific builds</td>
</tr>
<tr>
<td><code>test</code></td>
<td>Test suites</td>
<td><code>testCommand</code>, <code>coverageFile</code></td>
</tr>
<tr>
<td><code>docker</code></td>
<td>Containerized apps</td>
<td><code>imageName</code>, <code>dockerfile</code>, <code>tags</code></td>
</tr>
<tr>
<td><code>custom</code></td>
<td>Custom builds</td>
<td>Flexible <code>config</code> object</td>
</tr>
</tbody>
</table>
<details>
<summary>Example target configurations</summary>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;targets&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;cli-tool&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;executable&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;buildCommand&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;cargo build --release&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;outputPath&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;./target/release/myapp&quot;</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;mac-app&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;app-bundle&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;buildCommand&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;xcodebuild -scheme MyApp&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;bundleId&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;com.example.myapp&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;autoRelaunch&quot;</span><span class="hl-1">: </span><span class="hl-3">true</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;tests&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;test&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;testCommand&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;npm test&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;watchPaths&quot;</span><span class="hl-1">: [</span><span class="hl-2">&quot;src/**/*&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;test/**/*&quot;</span><span class="hl-1">]</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</details>
<h3 id="smart-project-detection" class="tsd-anchor-link">Smart Project Detection<a href="#smart-project-detection" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Poltergeist automatically detects your project type based on configuration files:</p>
<table>
<thead>
<tr>
<th>Project Type</th>
<th>Detection Files</th>
<th>Optimized For</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>swift</code></td>
<td><code>Package.swift</code></td>
<td>SPM, Xcode, <code>.build</code>, <code>DerivedData</code></td>
</tr>
<tr>
<td><code>node</code></td>
<td><code>package.json</code></td>
<td><code>node_modules</code>, build outputs, logs</td>
</tr>
<tr>
<td><code>rust</code></td>
<td><code>Cargo.toml</code></td>
<td><code>target/</code>, Cargo artifacts</td>
</tr>
<tr>
<td><code>python</code></td>
<td><code>pyproject.toml</code>, <code>requirements.txt</code></td>
<td><code>__pycache__</code>, virtual envs</td>
</tr>
<tr>
<td><code>mixed</code></td>
<td>Multiple indicators</td>
<td>Combined exclusions from all types</td>
</tr>
</tbody>
</table>
<h3 id="performance-profiles" class="tsd-anchor-link">Performance Profiles<a href="#performance-profiles" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;performance&quot;</span><span class="hl-1">: {</span><span class="hl-4">&quot;profile&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;conservative|balanced|aggressive&quot;</span><span class="hl-1">, </span><span class="hl-4">&quot;autoOptimize&quot;</span><span class="hl-1">: </span><span class="hl-3">true</span><span class="hl-1">}</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<ul>
<li><strong>conservative</strong>: Maximum file coverage, small projects</li>
<li><strong>balanced</strong>: Default, good performance/coverage balance</li>
<li><strong>aggressive</strong>: Maximum performance, large projects</li>
</ul>
<h3 id="intelligent-build-prioritization" class="tsd-anchor-link">Intelligent Build Prioritization<a href="#intelligent-build-prioritization" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Automatically builds what you're working on first using focus detection and priority scoring:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;buildScheduling&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;parallelization&quot;</span><span class="hl-1">: </span><span class="hl-5">2</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;prioritization&quot;</span><span class="hl-1">: {</span><span class="hl-4">&quot;enabled&quot;</span><span class="hl-1">: </span><span class="hl-3">true</span><span class="hl-1">, </span><span class="hl-4">&quot;focusDetectionWindow&quot;</span><span class="hl-1">: </span><span class="hl-5">300000</span><span class="hl-1">}</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>How it works</strong>: Analyzes file change patterns ‚Üí prioritizes active targets ‚Üí builds in smart order ‚Üí faster feedback loops</p>
<h3 id="smart-exclusions" class="tsd-anchor-link">Smart Exclusions<a href="#smart-exclusions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Includes 70+ optimized patterns: version control (<code>.git</code>), build artifacts (<code>node_modules</code>, <code>DerivedData</code>, <code>target/</code>), IDE files (<code>.vscode</code>, <code>.idea</code>), OS files (<code>.DS_Store</code>), and project-specific exclusions.</p>
<h3 id="advanced-configuration" class="tsd-anchor-link">Advanced Configuration<a href="#advanced-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><details>
<summary>Custom exclusions, environment variables, timeouts</summary>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;watchman&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;rules&quot;</span><span class="hl-1">: [{</span><span class="hl-4">&quot;pattern&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;**/test_results/**&quot;</span><span class="hl-1">, </span><span class="hl-4">&quot;action&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;ignore&quot;</span><span class="hl-1">}]</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;targets&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;backend&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;buildCommand&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;npm run build:prod&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;environment&quot;</span><span class="hl-1">: {</span><span class="hl-4">&quot;NODE_ENV&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;production&quot;</span><span class="hl-1">, </span><span class="hl-4">&quot;API_URL&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;https://api.com&quot;</span><span class="hl-1">},</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;maxRetries&quot;</span><span class="hl-1">: </span><span class="hl-5">3</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;settlingDelay&quot;</span><span class="hl-1">: </span><span class="hl-5">2000</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</details>
<h2 id="command-line-interface" class="tsd-anchor-link">Command Line Interface<a href="#command-line-interface" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="commands" class="tsd-anchor-link">Commands<a href="#commands" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><table>
<thead>
<tr>
<th>Command</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>poltergeist haunt [options]</code></td>
<td>Start watching and building</td>
</tr>
<tr>
<td><code>poltergeist stop [options]</code></td>
<td>Stop Poltergeist processes</td>
</tr>
<tr>
<td><code>poltergeist status [options]</code></td>
<td>Display build status</td>
</tr>
<tr>
<td><code>poltergeist list [options]</code></td>
<td>List configured targets</td>
</tr>
<tr>
<td><code>poltergeist clean [options]</code></td>
<td>Clean stale state files</td>
</tr>
<tr>
<td><code>poltergeist logs [options]</code></td>
<td>Display build logs</td>
</tr>
</tbody>
</table>
<h3 id="options" class="tsd-anchor-link">Options<a href="#options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="haunt--start" class="tsd-anchor-link"><code>haunt</code> / <code>start</code><a href="#haunt--start" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="bash"><span class="hl-0">poltergeist</span><span class="hl-1"> </span><span class="hl-2">haunt</span><span class="hl-1"> [options]</span><br/><span class="hl-1">  </span><span class="hl-0">-t,</span><span class="hl-1"> </span><span class="hl-3">--target</span><span class="hl-1"> &lt;</span><span class="hl-2">nam</span><span class="hl-1">e&gt;   </span><span class="hl-2">Build</span><span class="hl-1"> </span><span class="hl-2">only</span><span class="hl-1"> </span><span class="hl-2">specific</span><span class="hl-1"> </span><span class="hl-2">target</span><br/><span class="hl-1">  </span><span class="hl-0">-c,</span><span class="hl-1"> </span><span class="hl-3">--config</span><span class="hl-1"> &lt;</span><span class="hl-2">pat</span><span class="hl-1">h&gt;   </span><span class="hl-2">Custom</span><span class="hl-1"> </span><span class="hl-2">config</span><span class="hl-1"> </span><span class="hl-2">file</span><span class="hl-1"> </span><span class="hl-2">path</span><br/><span class="hl-1">  </span><span class="hl-0">-v,</span><span class="hl-1"> </span><span class="hl-3">--verbose</span><span class="hl-1">         </span><span class="hl-2">Enable</span><span class="hl-1"> </span><span class="hl-2">verbose</span><span class="hl-1"> </span><span class="hl-2">logging</span>
</code><button type="button">Copy</button></pre>

<h4 id="status" class="tsd-anchor-link"><code>status</code><a href="#status" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="bash"><span class="hl-0">poltergeist</span><span class="hl-1"> </span><span class="hl-2">status</span><span class="hl-1"> [options]</span><br/><span class="hl-1">  </span><span class="hl-0">-t,</span><span class="hl-1"> </span><span class="hl-3">--target</span><span class="hl-1"> &lt;</span><span class="hl-2">nam</span><span class="hl-1">e&gt;   </span><span class="hl-2">Show</span><span class="hl-1"> </span><span class="hl-2">specific</span><span class="hl-1"> </span><span class="hl-2">target</span><span class="hl-1"> </span><span class="hl-2">status</span><br/><span class="hl-1">  </span><span class="hl-0">-v,</span><span class="hl-1"> </span><span class="hl-3">--verbose</span><span class="hl-1">         </span><span class="hl-2">Detailed</span><span class="hl-1"> </span><span class="hl-2">status</span><span class="hl-1"> </span><span class="hl-2">information</span>
</code><button type="button">Copy</button></pre>

<h4 id="list" class="tsd-anchor-link"><code>list</code><a href="#list" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="bash"><span class="hl-0">poltergeist</span><span class="hl-1"> </span><span class="hl-2">list</span><span class="hl-1"> [options]</span><br/><span class="hl-1">  </span><span class="hl-0">-c,</span><span class="hl-1"> </span><span class="hl-3">--config</span><span class="hl-1"> &lt;</span><span class="hl-2">pat</span><span class="hl-1">h&gt;   </span><span class="hl-2">Custom</span><span class="hl-1"> </span><span class="hl-2">config</span><span class="hl-1"> </span><span class="hl-2">file</span><span class="hl-1"> </span><span class="hl-2">path</span>
</code><button type="button">Copy</button></pre>

<h3 id="status-output" class="tsd-anchor-link">Status Output<a href="#status-output" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-2">poltergeist</span><span class="hl-1"> </span><span class="hl-2">status</span><br/><br/><span class="hl-0">üëª</span><span class="hl-1"> </span><span class="hl-2">Poltergeist</span><span class="hl-1"> </span><span class="hl-2">Status</span><br/><span class="hl-0">‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</span><br/><span class="hl-0">Target:</span><span class="hl-1"> </span><span class="hl-2">my-cli</span><br/><span class="hl-1">  </span><span class="hl-0">Status:</span><span class="hl-1"> </span><span class="hl-2">running</span><br/><span class="hl-1">  </span><span class="hl-0">Process:</span><span class="hl-1"> </span><span class="hl-5">12345</span><span class="hl-1"> (host: </span><span class="hl-2">MacBook-Pro.local</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-0">Last</span><span class="hl-1"> </span><span class="hl-2">Build:</span><span class="hl-1"> </span><span class="hl-2">8/2/2025,</span><span class="hl-1"> </span><span class="hl-2">8:15:30</span><span class="hl-1"> </span><span class="hl-2">PM</span><br/><span class="hl-1">  </span><span class="hl-0">Build</span><span class="hl-1"> </span><span class="hl-2">Status:</span><span class="hl-1"> </span><span class="hl-2">‚úÖ</span><span class="hl-1"> </span><span class="hl-2">Success</span><br/><span class="hl-1">  </span><span class="hl-0">Build</span><span class="hl-1"> </span><span class="hl-2">Time:</span><span class="hl-1"> </span><span class="hl-2">2.3s</span><br/><span class="hl-1">  </span><span class="hl-0">Git</span><span class="hl-1"> </span><span class="hl-2">Hash:</span><span class="hl-1"> </span><span class="hl-2">abc123f</span><br/><span class="hl-1">  </span><span class="hl-0">Builder:</span><span class="hl-1"> </span><span class="hl-2">Executable</span><br/><span class="hl-1">  </span><span class="hl-0">Output:</span><span class="hl-1"> </span><span class="hl-2">./bin/mycli</span>
</code><button type="button">Copy</button></pre>

<h3 id="configuration-changes-and-reloading" class="tsd-anchor-link">Configuration Changes and Reloading<a href="#configuration-changes-and-reloading" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>Important</strong>: Poltergeist loads configuration once at startup and does <strong>not</strong> hot-reload configuration changes. To apply configuration updates, you must restart Poltergeist.</p>
<h4 id="how-configuration-loading-works" class="tsd-anchor-link">How Configuration Loading Works<a href="#how-configuration-loading-works" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ol>
<li><strong>Load Once at Startup</strong>: Configuration is read from <code>poltergeist.config.json</code> when Poltergeist starts</li>
<li><strong>Stored in Memory</strong>: All settings (targets, notifications, build commands) are cached in memory for performance</li>
<li><strong>No File Watching</strong>: Poltergeist only watches your source files, not the configuration file itself</li>
<li><strong>Restart Required</strong>: Changes to <code>poltergeist.config.json</code> require a restart to take effect</li>
</ol>
<h4 id="when-to-restart" class="tsd-anchor-link">When to Restart<a href="#when-to-restart" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Restart Poltergeist after changing any of these settings:</p>
<ul>
<li>Target configurations (build commands, watch paths, output paths)</li>
<li>Notification settings (sounds, enabled/disabled status)</li>
<li>Watchman configuration (exclusions, performance settings)</li>
<li>Build scheduling and parallelization options</li>
</ul>
<pre><code class="bash"><span class="hl-6"># Stop current instance</span><br/><span class="hl-0">poltergeist</span><span class="hl-1"> </span><span class="hl-2">stop</span><br/><br/><span class="hl-6"># Start with new configuration</span><br/><span class="hl-0">poltergeist</span><span class="hl-1"> </span><span class="hl-2">haunt</span>
</code><button type="button">Copy</button></pre>

<h4 id="why-no-hot-reloading" class="tsd-anchor-link">Why No Hot Reloading?<a href="#why-no-hot-reloading" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>This design choice ensures:</p>
<ul>
<li><strong>Reliability</strong>: Prevents configuration corruption during live builds</li>
<li><strong>Performance</strong>: Avoids file watching overhead for rarely-changed config</li>
<li><strong>Simplicity</strong>: Clear separation between source code changes and configuration changes</li>
<li><strong>Consistency</strong>: Predictable behavior across different development workflows</li>
</ul>
<h4 id="quick-configuration-test" class="tsd-anchor-link">Quick Configuration Test<a href="#quick-configuration-test" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>To verify configuration changes are loaded:</p>
<pre><code class="bash"><span class="hl-6"># After restarting, check status to confirm new settings</span><br/><span class="hl-0">poltergeist</span><span class="hl-1"> </span><span class="hl-2">status</span><br/><br/><span class="hl-6"># Enable debug logging to see configuration details</span><br/><span class="hl-7">POLTERGEIST_LOG_LEVEL</span><span class="hl-1">=</span><span class="hl-2">debug</span><span class="hl-1"> </span><span class="hl-0">poltergeist</span><span class="hl-1"> </span><span class="hl-2">haunt</span>
</code><button type="button">Copy</button></pre>

<h2 id="smart-execution-with-polter" class="tsd-anchor-link">Smart Execution with polter<a href="#smart-execution-with-polter" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Never run stale or failed builds again! The <code>polter</code> command is a smart wrapper that ensures you always execute fresh binaries.</p>
<h3 id="the-problem--solution" class="tsd-anchor-link">The Problem &amp; Solution<a href="#the-problem--solution" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-6"># üò± Without polter - might run stale builds:</span><br/><span class="hl-0">./dist/my-tool</span><span class="hl-1"> </span><span class="hl-2">deploy</span><span class="hl-1"> </span><span class="hl-3">--production</span><span class="hl-1">   </span><span class="hl-6"># Disaster if using old code!</span><br/><br/><span class="hl-6"># ‚úÖ With polter - always fresh builds:</span><br/><span class="hl-0">polter</span><span class="hl-1"> </span><span class="hl-2">my-tool</span><span class="hl-1"> </span><span class="hl-2">deploy</span><span class="hl-1"> </span><span class="hl-3">--production</span><span class="hl-1">    </span><span class="hl-6"># Waits for build, guarantees fresh code</span>
</code><button type="button">Copy</button></pre>

<h3 id="how-it-works" class="tsd-anchor-link">How It Works<a href="#how-it-works" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ol>
<li><strong>State Discovery</strong>: Finds your project's poltergeist configuration</li>
<li><strong>Build Status Check</strong>: Reads current build state from temp directory (<code>/tmp/poltergeist/</code> on Unix, <code>%TEMP%\poltergeist</code> on Windows)</li>
<li><strong>Smart Waiting</strong>: Waits for in-progress builds with live progress</li>
<li><strong>Fail Fast</strong>: Immediately exits on build failures with clear messages</li>
<li><strong>Fresh Execution</strong>: Only runs executables when builds are confirmed fresh</li>
<li><strong>Graceful Fallback</strong>: When Poltergeist isn't running, executes potentially stale binaries with warnings</li>
</ol>
<h3 id="fallback-behavior" class="tsd-anchor-link">Fallback Behavior<a href="#fallback-behavior" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>When Poltergeist is not running or configuration is missing, <code>polter</code> gracefully falls back to stale execution:</p>
<pre><code class="bash"><span class="hl-0">‚ö†Ô∏è</span><span class="hl-1">  </span><span class="hl-2">POLTERGEIST</span><span class="hl-1"> </span><span class="hl-2">NOT</span><span class="hl-1"> </span><span class="hl-2">RUNNING</span><span class="hl-1"> </span><span class="hl-2">-</span><span class="hl-1"> </span><span class="hl-2">EXECUTING</span><span class="hl-1"> </span><span class="hl-2">POTENTIALLY</span><span class="hl-1"> </span><span class="hl-2">STALE</span><span class="hl-1"> </span><span class="hl-2">BINARY</span><br/><span class="hl-1">   </span><span class="hl-0">The</span><span class="hl-1"> </span><span class="hl-2">binary</span><span class="hl-1"> </span><span class="hl-2">may</span><span class="hl-1"> </span><span class="hl-2">be</span><span class="hl-1"> </span><span class="hl-2">outdated.</span><span class="hl-1"> </span><span class="hl-2">For</span><span class="hl-1"> </span><span class="hl-2">fresh</span><span class="hl-1"> </span><span class="hl-2">builds,</span><span class="hl-1"> </span><span class="hl-2">start</span><span class="hl-1"> </span><span class="hl-2">Poltergeist:</span><br/><span class="hl-1">   </span><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">poltergeist:haunt</span><br/><br/><span class="hl-0">‚úÖ</span><span class="hl-1"> </span><span class="hl-2">Running</span><span class="hl-1"> </span><span class="hl-2">binary:</span><span class="hl-1"> </span><span class="hl-2">my-app</span><span class="hl-1"> (potentially </span><span class="hl-2">stale</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<p><strong>Fallback Logic</strong>:</p>
<ol>
<li><strong>No config found</strong>: Attempts to find binary in common locations (<code>./</code>, <code>./build/</code>, <code>./dist/</code>)</li>
<li><strong>Target not configured</strong>: Searches for binary even if not in Poltergeist config</li>
<li><strong>Binary discovery</strong>: Tries multiple paths and handles suffix variations (<code>-cli</code>, <code>-app</code>)</li>
<li><strong>Smart execution</strong>: Detects file type (<code>.js</code>, <code>.py</code>, <code>.sh</code>) and uses appropriate interpreter</li>
<li><strong>Clear warnings</strong>: Always warns when running without build verification</li>
</ol>
<p>This ensures <code>polter</code> never completely blocks your workflow, while clearly indicating when builds might be stale.</p>
<h3 id="installation--basic-usage" class="tsd-anchor-link">Installation &amp; Basic Usage<a href="#installation--basic-usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-6"># Global installation (recommended)</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-3">-g</span><span class="hl-1"> </span><span class="hl-2">@steipete/poltergeist</span><br/><br/><span class="hl-6"># Now polter is available globally</span><br/><span class="hl-0">polter</span><span class="hl-1"> &lt;</span><span class="hl-2">target-nam</span><span class="hl-1">e&gt; [target-arguments...]</span><br/><br/><span class="hl-6"># Examples:</span><br/><span class="hl-0">polter</span><span class="hl-1"> </span><span class="hl-2">my-app</span><span class="hl-1"> </span><span class="hl-3">--timeout</span><span class="hl-1"> </span><span class="hl-5">60000</span><span class="hl-1">    </span><span class="hl-6"># Wait up to 60 seconds</span><br/><span class="hl-0">polter</span><span class="hl-1"> </span><span class="hl-2">my-app</span><span class="hl-1"> </span><span class="hl-3">--force</span><span class="hl-1">            </span><span class="hl-6"># Run even if build failed</span><br/><span class="hl-0">polter</span><span class="hl-1"> </span><span class="hl-2">my-app</span><span class="hl-1"> </span><span class="hl-3">--no-wait</span><span class="hl-1">          </span><span class="hl-6"># Fail immediately if building</span><br/><span class="hl-0">polter</span><span class="hl-1"> </span><span class="hl-2">my-app</span><span class="hl-1"> </span><span class="hl-3">--verbose</span><span class="hl-1">          </span><span class="hl-6"># Show detailed progress</span><br/><br/><span class="hl-6"># Create convenient aliases</span><br/><span class="hl-3">alias</span><span class="hl-1"> </span><span class="hl-7">myapp</span><span class="hl-1">=</span><span class="hl-2">&quot;polter my-app&quot;</span><br/><span class="hl-3">alias</span><span class="hl-1"> </span><span class="hl-7">dev</span><span class="hl-1">=</span><span class="hl-2">&quot;polter dev-server --watch&quot;</span>
</code><button type="button">Copy</button></pre>

<h3 id="status-messages" class="tsd-anchor-link">Status Messages<a href="#status-messages" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-0">üî®</span><span class="hl-1"> </span><span class="hl-2">Waiting</span><span class="hl-1"> </span><span class="hl-2">for</span><span class="hl-1"> </span><span class="hl-2">build</span><span class="hl-1"> </span><span class="hl-2">to</span><span class="hl-1"> </span><span class="hl-2">complete...</span><span class="hl-1"> (8s </span><span class="hl-2">elapsed</span><span class="hl-1">)</span><br/><span class="hl-0">‚ùå</span><span class="hl-1"> </span><span class="hl-2">Build</span><span class="hl-1"> </span><span class="hl-2">failed!</span><span class="hl-1"> </span><span class="hl-2">Cannot</span><span class="hl-1"> </span><span class="hl-2">execute</span><span class="hl-1"> </span><span class="hl-2">stale</span><span class="hl-1"> </span><span class="hl-2">binary.</span><br/><span class="hl-0">‚úÖ</span><span class="hl-1"> </span><span class="hl-2">Build</span><span class="hl-1"> </span><span class="hl-2">completed</span><span class="hl-1"> </span><span class="hl-2">successfully!</span><span class="hl-1"> </span><span class="hl-2">Executing</span><span class="hl-1"> </span><span class="hl-2">fresh</span><span class="hl-1"> </span><span class="hl-2">binary...</span>
</code><button type="button">Copy</button></pre>

<details>
<summary>Integration examples and advanced usage</summary>
<h4 id="shell-integration" class="tsd-anchor-link">Shell Integration<a href="#shell-integration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="bash"><span class="hl-6"># .bashrc/.zshrc aliases (after global install)</span><br/><span class="hl-3">alias</span><span class="hl-1"> </span><span class="hl-7">myapp</span><span class="hl-1">=</span><span class="hl-2">&quot;polter my-app-target&quot;</span><br/><span class="hl-3">alias</span><span class="hl-1"> </span><span class="hl-7">dev</span><span class="hl-1">=</span><span class="hl-2">&quot;polter dev-server --watch&quot;</span><br/><span class="hl-3">alias</span><span class="hl-1"> </span><span class="hl-7">pb</span><span class="hl-1">=</span><span class="hl-2">&quot;polter peekaboo&quot;</span><span class="hl-1">  </span><span class="hl-6"># For Peekaboo users</span><br/><br/><span class="hl-6"># package.json scripts</span><br/><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-0">&quot;scripts&quot;</span><span class="hl-0">:</span><span class="hl-1"> </span><span class="hl-2">{</span><br/><span class="hl-1">    </span><span class="hl-0">&quot;start&quot;</span><span class="hl-0">:</span><span class="hl-1"> </span><span class="hl-2">&quot;polter web-server --port 3000&quot;,</span><br/><span class="hl-1">    </span><span class="hl-0">&quot;deploy:prod&quot;</span><span class="hl-0">:</span><span class="hl-1"> </span><span class="hl-2">&quot;polter deploy-tool --env production&quot;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-6"># No wrapper scripts needed - use polter directly!</span>
</code><button type="button">Copy</button></pre>

<h4 id="multi-service-configuration" class="tsd-anchor-link">Multi-Service Configuration<a href="#multi-service-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;targets&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">    {</span><span class="hl-4">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;api&quot;</span><span class="hl-1">, </span><span class="hl-4">&quot;buildCommand&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;go build -o ./bin/api ./cmd/api&quot;</span><span class="hl-1">},</span><br/><span class="hl-1">    {</span><span class="hl-4">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;worker&quot;</span><span class="hl-1">, </span><span class="hl-4">&quot;buildCommand&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;go build -o ./bin/worker ./cmd/worker&quot;</span><span class="hl-1">},</span><br/><span class="hl-1">    {</span><span class="hl-4">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;frontend&quot;</span><span class="hl-1">, </span><span class="hl-4">&quot;buildCommand&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;npm run build&quot;</span><span class="hl-1">}</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="bash"><span class="hl-0">polter</span><span class="hl-1"> </span><span class="hl-2">api</span><span class="hl-1"> </span><span class="hl-3">--port</span><span class="hl-1"> </span><span class="hl-5">8080</span><span class="hl-1">        </span><span class="hl-6"># Fresh API server</span><br/><span class="hl-0">polter</span><span class="hl-1"> </span><span class="hl-2">worker</span><span class="hl-1"> </span><span class="hl-3">--queue</span><span class="hl-1"> </span><span class="hl-2">jobs</span><span class="hl-1">    </span><span class="hl-6"># Fresh worker process</span><br/><span class="hl-0">polter</span><span class="hl-1"> </span><span class="hl-2">frontend</span><span class="hl-1"> </span><span class="hl-3">--serve</span><span class="hl-1">       </span><span class="hl-6"># Fresh frontend build</span>
</code><button type="button">Copy</button></pre>

<h4 id="troubleshooting" class="tsd-anchor-link">Troubleshooting<a href="#troubleshooting" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="bash"><span class="hl-6"># Timeout issues</span><br/><span class="hl-3">export</span><span class="hl-1"> </span><span class="hl-7">POLTER_DEFAULT_TIMEOUT</span><span class="hl-1">=</span><span class="hl-5">60000</span><br/><span class="hl-0">polter</span><span class="hl-1"> </span><span class="hl-2">my-app</span><br/><br/><span class="hl-6"># Configuration check</span><br/><span class="hl-0">polter</span><span class="hl-1"> </span><span class="hl-3">--verbose</span><span class="hl-1"> </span><span class="hl-2">my-app</span><span class="hl-1"> 2&gt;&amp;1 | </span><span class="hl-0">grep</span><span class="hl-1"> </span><span class="hl-2">&quot;Config&quot;</span><br/><span class="hl-0">poltergeist</span><span class="hl-1"> </span><span class="hl-2">status</span><span class="hl-1"> </span><span class="hl-3">--target</span><span class="hl-1"> </span><span class="hl-2">my-app</span>
</code><button type="button">Copy</button></pre>

</details>
<h2 id="examples" class="tsd-anchor-link">Examples<a href="#examples" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><details>
<summary>Project configuration examples</summary>
<h3 id="swift-package-manager-project" class="tsd-anchor-link">Swift Package Manager Project<a href="#swift-package-manager-project" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;version&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;1.0&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;projectType&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;swift&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;targets&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;cli-tool&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;executable&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;buildCommand&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;swift build -c release&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;outputPath&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;./.build/release/MyTool&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;watchPaths&quot;</span><span class="hl-1">: [</span><span class="hl-2">&quot;Sources/**/*.swift&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;Package.swift&quot;</span><span class="hl-1">]</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;tests&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;test&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;testCommand&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;swift test&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;watchPaths&quot;</span><span class="hl-1">: [</span><span class="hl-2">&quot;Sources/**/*.swift&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;Tests/**/*.swift&quot;</span><span class="hl-1">]</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="mixed-language-project-swift--nodejs" class="tsd-anchor-link">Mixed Language Project (Swift + Node.js)<a href="#mixed-language-project-swift--nodejs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;version&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;1.0&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;projectType&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;mixed&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;targets&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;swift-backend&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;executable&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;buildCommand&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;./scripts/build-swift.sh&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;outputPath&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;./bin/backend&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;watchPaths&quot;</span><span class="hl-1">: [</span><span class="hl-2">&quot;Backend/**/*.swift&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;Shared/**/*.swift&quot;</span><span class="hl-1">]</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;react-frontend&quot;</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-4">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;executable&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;buildCommand&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;npm run build&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;outputPath&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;./frontend/dist&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;watchPaths&quot;</span><span class="hl-1">: [</span><span class="hl-2">&quot;frontend/src/**/*.{ts,tsx,js,jsx}&quot;</span><span class="hl-1">]</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;mac-app&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;app-bundle&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;bundleId&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;com.example.myapp&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;buildCommand&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;xcodebuild -scheme MyApp&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;autoRelaunch&quot;</span><span class="hl-1">: </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;watchPaths&quot;</span><span class="hl-1">: [</span><span class="hl-2">&quot;MacApp/**/*.swift&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;Shared/**/*.swift&quot;</span><span class="hl-1">]</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="docker-development-environment" class="tsd-anchor-link">Docker Development Environment<a href="#docker-development-environment" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;version&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;1.0&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;projectType&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;node&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;targets&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;api-dev&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;docker&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;imageName&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;myapp/api&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;buildCommand&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;docker build -f docker/Dockerfile.dev -t myapp/api:dev .&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">&quot;watchPaths&quot;</span><span class="hl-1">: [</span><span class="hl-2">&quot;src/**/*.js&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;package.json&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;docker/Dockerfile.dev&quot;</span><span class="hl-1">]</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</details>
<h2 id="state-management" class="tsd-anchor-link">State Management<a href="#state-management" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="unified-state-system" class="tsd-anchor-link">Unified State System<a href="#unified-state-system" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Poltergeist uses a lock-free state management system with atomic operations:</p>
<ul>
<li><strong>Single state file per target</strong>: Cross-platform temp directory (<code>/tmp/poltergeist/</code> on Unix, <code>%TEMP%\poltergeist</code> on Windows)</li>
<li><strong>Atomic writes</strong>: Temp file + rename for consistency</li>
<li><strong>Heartbeat monitoring</strong>: Process liveness detection</li>
<li><strong>Build history</strong>: Track success/failure patterns</li>
<li><strong>Cross-tool compatibility</strong>: State readable by external tools</li>
</ul>
<h3 id="state-file-structure" class="tsd-anchor-link">State File Structure<a href="#state-file-structure" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;target&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;my-app&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;status&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;running&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;process&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;pid&quot;</span><span class="hl-1">: </span><span class="hl-5">12345</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;hostname&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;MacBook-Pro.local&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;startTime&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;2025-08-02T20:15:30.000Z&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;heartbeat&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;2025-08-02T20:16:00.000Z&quot;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;build&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;status&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;success&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;startTime&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;2025-08-02T20:15:45.000Z&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;endTime&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;2025-08-02T20:15:47.500Z&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;duration&quot;</span><span class="hl-1">: </span><span class="hl-5">2500</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;gitHash&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;abc123f&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;outputPath&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;./bin/myapp&quot;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-4">&quot;app&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;bundleId&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;com.example.myapp&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;path&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;/Applications/MyApp.app&quot;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="development" class="tsd-anchor-link">Development<a href="#development" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="prerequisites" class="tsd-anchor-link">Prerequisites<a href="#prerequisites" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>Node.js 20+</strong> for CLI development</li>
<li><strong>Xcode 15+</strong> for macOS app development</li>
<li><strong>Watchman</strong> for file watching</li>
</ul>
<h3 id="cli-development" class="tsd-anchor-link">CLI Development<a href="#cli-development" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-6"># Build from source</span><br/><span class="hl-0">git</span><span class="hl-1"> </span><span class="hl-2">clone</span><span class="hl-1"> </span><span class="hl-2">https://github.com/steipete/poltergeist.git</span><br/><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-2">poltergeist</span><span class="hl-1"> &amp;&amp; </span><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> &amp;&amp; </span><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">build</span><br/><br/><span class="hl-6"># Development commands</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">test</span><span class="hl-1">                    </span><span class="hl-6"># Run tests</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">dev</span><span class="hl-1">                 </span><span class="hl-6"># Auto-rebuild mode</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">lint</span><span class="hl-1">                </span><span class="hl-6"># Code quality checks</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">typecheck</span><span class="hl-1">           </span><span class="hl-6"># Type validation</span>
</code><button type="button">Copy</button></pre>

<h3 id="macos-app-development" class="tsd-anchor-link">macOS App Development<a href="#macos-app-development" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-6"># Navigate to macOS app</span><br/><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-2">apps/mac</span><br/><br/><span class="hl-6"># Build and run</span><br/><span class="hl-0">xcodebuild</span><span class="hl-1"> </span><span class="hl-3">-project</span><span class="hl-1"> </span><span class="hl-2">Poltergeist.xcodeproj</span><span class="hl-1"> </span><span class="hl-3">-scheme</span><span class="hl-1"> </span><span class="hl-2">Poltergeist</span><span class="hl-1"> </span><span class="hl-2">build</span><br/><span class="hl-0">open</span><span class="hl-1"> </span><span class="hl-2">Poltergeist.xcodeproj</span><br/><br/><span class="hl-6"># Code quality</span><br/><span class="hl-0">./scripts/lint.sh</span><span class="hl-1">           </span><span class="hl-6"># SwiftLint checks</span><br/><span class="hl-0">./scripts/format.sh</span><span class="hl-1">         </span><span class="hl-6"># swift-format fixes</span>
</code><button type="button">Copy</button></pre>

<h3 id="cicd-pipeline" class="tsd-anchor-link">CI/CD Pipeline<a href="#cicd-pipeline" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Our comprehensive CI/CD pipeline ensures code quality across both platforms:</p>
<ul>
<li><strong>Multi-platform testing</strong>: Node.js 20/22 on Ubuntu, macOS, and Windows</li>
<li><strong>Swift 6 validation</strong>: Strict concurrency checking and modern Swift practices</li>
<li><strong>Code quality</strong>: SwiftLint, swift-format, Biome, and TypeScript checks</li>
<li><strong>Automated releases</strong>: Dual-platform releases with both CLI (.tgz) and macOS app (.dmg/.zip)</li>
<li><strong>Test coverage</strong>: Comprehensive coverage reporting with Codecov</li>
</ul>
<details>
<summary>Project structure and contributing guidelines</summary>
<h3 id="project-structure" class="tsd-anchor-link">Project Structure<a href="#project-structure" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code><span class="hl-7">poltergeist</span><span class="hl-1">/</span><br/><span class="hl-1">‚îú‚îÄ‚îÄ </span><span class="hl-7">src</span><span class="hl-1">/</span><br/><span class="hl-1">‚îÇ   ‚îú‚îÄ‚îÄ </span><span class="hl-7">builders</span><span class="hl-1">/           # </span><span class="hl-7">Target</span><span class="hl-1">-</span><span class="hl-7">specific</span><span class="hl-1"> </span><span class="hl-7">builders</span><br/><span class="hl-1">‚îÇ   ‚îú‚îÄ‚îÄ </span><span class="hl-7">cli</span><span class="hl-1">.</span><span class="hl-7">ts</span><span class="hl-1">             # </span><span class="hl-7">Command</span><span class="hl-1"> </span><span class="hl-7">line</span><span class="hl-1"> </span><span class="hl-3">interface</span><span class="hl-1">  </span><br/><span class="hl-1">‚îÇ   ‚îú‚îÄ‚îÄ </span><span class="hl-8">poltergeist</span><span class="hl-1">.</span><span class="hl-8">ts</span><span class="hl-1">     # </span><span class="hl-8">Core</span><span class="hl-1"> </span><span class="hl-8">application</span><span class="hl-1"> </span><span class="hl-8">logic</span><br/><span class="hl-1">‚îÇ   ‚îú‚îÄ‚îÄ </span><span class="hl-8">priority</span><span class="hl-1">-</span><span class="hl-8">engine</span><span class="hl-1">.</span><span class="hl-8">ts</span><span class="hl-1"> # </span><span class="hl-8">Intelligent</span><span class="hl-1"> </span><span class="hl-8">priority</span><span class="hl-1"> </span><span class="hl-8">scoring</span><br/><span class="hl-1">‚îÇ   ‚îú‚îÄ‚îÄ </span><span class="hl-8">build</span><span class="hl-1">-</span><span class="hl-8">queue</span><span class="hl-1">.</span><span class="hl-8">ts</span><span class="hl-1">     # </span><span class="hl-8">Smart</span><span class="hl-1"> </span><span class="hl-8">build</span><span class="hl-1"> </span><span class="hl-8">queue</span><span class="hl-1"> </span><span class="hl-8">management</span><br/><span class="hl-1">‚îÇ   ‚îú‚îÄ‚îÄ </span><span class="hl-8">state</span><span class="hl-1">.</span><span class="hl-8">ts</span><span class="hl-1">           # </span><span class="hl-8">State</span><span class="hl-1"> </span><span class="hl-8">management</span><span class="hl-1"> </span><span class="hl-8">system</span><br/><span class="hl-1">‚îÇ   ‚îî‚îÄ‚îÄ </span><span class="hl-8">watchman</span><span class="hl-1">.</span><span class="hl-8">ts</span><span class="hl-1">        # </span><span class="hl-8">Watchman</span><span class="hl-1"> </span><span class="hl-8">file</span><span class="hl-1"> </span><span class="hl-8">watching</span><br/><span class="hl-1">‚îú‚îÄ‚îÄ </span><span class="hl-8">test</span><span class="hl-1">/                  # </span><span class="hl-8">Vitest</span><span class="hl-1"> </span><span class="hl-8">test</span><span class="hl-1"> </span><span class="hl-8">files</span><br/><span class="hl-1">‚îî‚îÄ‚îÄ </span><span class="hl-8">dist</span><span class="hl-1">/                  # </span><span class="hl-8">Compiled</span><span class="hl-1"> </span><span class="hl-8">JavaScript</span><span class="hl-1"> </span><span class="hl-8">output</span>
</code><button>Copy</button></pre>

<h3 id="contributing" class="tsd-anchor-link">Contributing<a href="#contributing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Contributions welcome! Requirements:</p>
<ol>
<li>Tests pass: <code>npm test</code></li>
<li>Code formatted: <code>npm run format</code></li>
<li>Linting passes: <code>npm run lint</code></li>
<li>Types check: <code>npm run typecheck</code></li>
</ol>
<h3 id="development-philosophy" class="tsd-anchor-link">Development Philosophy<a href="#development-philosophy" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>No backwards compatibility</strong>: Clean breaks over legacy support</li>
<li><strong>Type safety first</strong>: Compile-time safety over runtime flexibility</li>
<li><strong>Performance over features</strong>: Optimize for large projects</li>
<li><strong>Simple over complex</strong>: Clean APIs over extensive configuration</li>
</ul>
</details>
<h2 id="changelog" class="tsd-anchor-link">Changelog<a href="#changelog" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>For detailed information about releases, bug fixes, and improvements, see <a href="media/CHANGELOG.md">CHANGELOG.md</a>.</p>
<h2 id="license" class="tsd-anchor-link">License<a href="#license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>MIT License - see <a href="media/LICENSE">LICENSE</a> file for details.</p>
<h2 id="author" class="tsd-anchor-link">Author<a href="#author" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Created and maintained by <a href="https://github.com/steipete">Peter Steinberger</a></p>
<h2 id="acknowledgments" class="tsd-anchor-link">Acknowledgments<a href="#acknowledgments" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><strong><a href="https://facebook.github.io/watchman/">Watchman</a></strong> for efficient file watching</li>
<li><strong><a href="https://zod.dev/">Zod</a></strong> for runtime type validation</li>
<li><strong><a href="https://github.com/winstonjs/winston">Winston</a></strong> for structured logging</li>
<li><strong><a href="https://github.com/tj/commander.js">Commander.js</a></strong> for CLI framework</li>
</ul>
<hr>
<div align="center">
  <strong>Keep your builds fresh with Poltergeist</strong>
</div></div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#poltergeist"><span>Poltergeist</span></a><ul><li><a href="#üéØ-dual-platform-support"><span>üéØ <wbr/>Dual <wbr/>Platform <wbr/>Support</span></a></li><li><ul><li><a href="#cli-tool-cross-platform-üåç"><span>CLI <wbr/>Tool (<wbr/>Cross-<wbr/>Platform) üåç</span></a></li><li><a href="#macos-app-native"><span>mac<wbr/>OS <wbr/>App (<wbr/>Native)</span></a></li></ul></li><li><a href="#features"><span>Features</span></a></li><li><a href="#quick-start"><span>Quick <wbr/>Start</span></a></li><li><ul><li><a href="#installation"><span>Installation</span></a></li><li><a href="#basic-usage"><span>Basic <wbr/>Usage</span></a></li></ul></li><li><a href="#requirements"><span>Requirements</span></a></li><li><ul><li><a href="#cli-tool"><span>CLI <wbr/>Tool</span></a></li><li><a href="#macos-app"><span>mac<wbr/>OS <wbr/>App</span></a></li></ul></li><li><a href="#configuration"><span>Configuration</span></a></li><li><ul><li><a href="#configuration-schema"><span>Configuration <wbr/>Schema</span></a></li><li><a href="#target-types"><span>Target <wbr/>Types</span></a></li><li><a href="#smart-project-detection"><span>Smart <wbr/>Project <wbr/>Detection</span></a></li><li><a href="#performance-profiles"><span>Performance <wbr/>Profiles</span></a></li><li><a href="#intelligent-build-prioritization"><span>Intelligent <wbr/>Build <wbr/>Prioritization</span></a></li><li><a href="#smart-exclusions"><span>Smart <wbr/>Exclusions</span></a></li><li><a href="#advanced-configuration"><span>Advanced <wbr/>Configuration</span></a></li></ul></li><li><a href="#command-line-interface"><span>Command <wbr/>Line <wbr/>Interface</span></a></li><li><ul><li><a href="#commands"><span>Commands</span></a></li><li><a href="#options"><span>Options</span></a></li><li><ul><li><a href="#haunt--start"><span>haunt / start</span></a></li><li><a href="#status"><span>status</span></a></li><li><a href="#list"><span>list</span></a></li></ul></li><li><a href="#status-output"><span>Status <wbr/>Output</span></a></li><li><a href="#configuration-changes-and-reloading"><span>Configuration <wbr/>Changes and <wbr/>Reloading</span></a></li><li><ul><li><a href="#how-configuration-loading-works"><span>How <wbr/>Configuration <wbr/>Loading <wbr/>Works</span></a></li><li><a href="#when-to-restart"><span>When to <wbr/>Restart</span></a></li><li><a href="#why-no-hot-reloading"><span>Why <wbr/>No <wbr/>Hot <wbr/>Reloading?</span></a></li><li><a href="#quick-configuration-test"><span>Quick <wbr/>Configuration <wbr/>Test</span></a></li></ul></li></ul></li><li><a href="#smart-execution-with-polter"><span>Smart <wbr/>Execution with polter</span></a></li><li><ul><li><a href="#the-problem--solution"><span>The <wbr/>Problem &amp; <wbr/>Solution</span></a></li><li><a href="#how-it-works"><span>How <wbr/>It <wbr/>Works</span></a></li><li><a href="#fallback-behavior"><span>Fallback <wbr/>Behavior</span></a></li><li><a href="#installation--basic-usage"><span>Installation &amp; <wbr/>Basic <wbr/>Usage</span></a></li><li><a href="#status-messages"><span>Status <wbr/>Messages</span></a></li><li><ul><li><a href="#shell-integration"><span>Shell <wbr/>Integration</span></a></li><li><a href="#multi-service-configuration"><span>Multi-<wbr/>Service <wbr/>Configuration</span></a></li><li><a href="#troubleshooting"><span>Troubleshooting</span></a></li></ul></li></ul></li><li><a href="#examples"><span>Examples</span></a></li><li><ul><li><a href="#swift-package-manager-project"><span>Swift <wbr/>Package <wbr/>Manager <wbr/>Project</span></a></li><li><a href="#mixed-language-project-swift--nodejs"><span>Mixed <wbr/>Language <wbr/>Project (<wbr/>Swift + <wbr/>Node.js)</span></a></li><li><a href="#docker-development-environment"><span>Docker <wbr/>Development <wbr/>Environment</span></a></li></ul></li><li><a href="#state-management"><span>State <wbr/>Management</span></a></li><li><ul><li><a href="#unified-state-system"><span>Unified <wbr/>State <wbr/>System</span></a></li><li><a href="#state-file-structure"><span>State <wbr/>File <wbr/>Structure</span></a></li></ul></li><li><a href="#development"><span>Development</span></a></li><li><ul><li><a href="#prerequisites"><span>Prerequisites</span></a></li><li><a href="#cli-development"><span>CLI <wbr/>Development</span></a></li><li><a href="#macos-app-development"><span>mac<wbr/>OS <wbr/>App <wbr/>Development</span></a></li><li><a href="#cicd-pipeline"><span>CI/<wbr/>CD <wbr/>Pipeline</span></a></li><li><a href="#project-structure"><span>Project <wbr/>Structure</span></a></li><li><a href="#contributing"><span>Contributing</span></a></li><li><a href="#development-philosophy"><span>Development <wbr/>Philosophy</span></a></li></ul></li><li><a href="#changelog"><span>Changelog</span></a></li><li><a href="#license"><span>License</span></a></li><li><a href="#author"><span>Author</span></a></li><li><a href="#acknowledgments"><span>Acknowledgments</span></a></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="../architecture.html">Architecture Diagrams</a><a href="../CLI.html">CLI Documentation</a><a href="https://github.com/steipete/poltergeist" class="tsd-nav-link">GitHub</a><a href="../architecture.html" class="tsd-nav-link">Architecture</a></nav><nav class="tsd-navigation"><a href="modules.html">Poltergeist API Documentation - v1.1.0</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
